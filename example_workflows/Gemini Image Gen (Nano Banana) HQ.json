{
  "id": "422d1147-272a-4de7-8e02-89cf213d2c9a",
  "revision": 0,
  "last_node_id": 24,
  "last_link_id": 18,
  "nodes": [
    {
      "id": 14,
      "type": "LoadImage",
      "pos": [
        4092,
        -440
      ],
      "size": [
        374,
        352
      ],
      "flags": {},
      "order": 0,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            9
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.71",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "pasted/image (19).png",
        "image"
      ]
    },
    {
      "id": 10,
      "type": "LoadImage",
      "pos": [
        4488,
        -440
      ],
      "size": [
        374,
        352
      ],
      "flags": {},
      "order": 1,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            10
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.71",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "pasted/image (19).png",
        "image"
      ]
    },
    {
      "id": 11,
      "type": "LoadImage",
      "pos": [
        4884,
        -440
      ],
      "size": [
        374,
        352
      ],
      "flags": {},
      "order": 2,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            11
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.71",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "pasted/image (19).png",
        "image"
      ]
    },
    {
      "id": 12,
      "type": "LoadImage",
      "pos": [
        5280,
        -440
      ],
      "size": [
        374,
        352
      ],
      "flags": {},
      "order": 3,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            12
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.71",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "pasted/image (19).png",
        "image"
      ]
    },
    {
      "id": 13,
      "type": "LoadImage",
      "pos": [
        5676,
        -440
      ],
      "size": [
        374,
        352
      ],
      "flags": {},
      "order": 4,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            13
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.71",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "pasted/image (19).png",
        "image"
      ]
    },
    {
      "id": 2,
      "type": "StarNanoBanana",
      "pos": [
        4884,
        22
      ],
      "size": [
        396,
        352
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "image1",
          "shape": 7,
          "type": "IMAGE",
          "link": 9
        },
        {
          "name": "image2",
          "shape": 7,
          "type": "IMAGE",
          "link": 10
        },
        {
          "name": "image3",
          "shape": 7,
          "type": "IMAGE",
          "link": 11
        },
        {
          "name": "image4",
          "shape": 7,
          "type": "IMAGE",
          "link": 12
        },
        {
          "name": "image5",
          "shape": 7,
          "type": "IMAGE",
          "link": 13
        },
        {
          "name": "prompt",
          "type": "STRING",
          "widget": {
            "name": "prompt"
          },
          "link": 18
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            2,
            3
          ]
        },
        {
          "name": "prompt",
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui_starnodes",
        "ver": "1.7.2",
        "Node name for S&R": "StarNanoBanana"
      },
      "widgets_values": [
        "A beautiful fantasy landscape, cinematic lighting",
        "gemini-3-pro-image-preview",
        "1:1",
        "4 MP (â‰ˆ2048x2048)",
        "Use Own Prompt"
      ],
      "color": "#051b34",
      "bgcolor": "#3d124d"
    },
    {
      "id": 3,
      "type": "StarSDUpscaleRefiner",
      "pos": [
        5302,
        22
      ],
      "size": [
        400,
        478
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "shape": 7,
          "type": "IMAGE",
          "link": 2
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            4
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui_starnodes",
        "ver": "1.7.2",
        "Node name for S&R": "StarSDUpscaleRefiner"
      },
      "widgets_values": [
        "SD1.5\\juggernaut_reborn.safetensors",
        "SD1.5\\sd1_lora_SDXLrender_v2.0.safetensors",
        0.25,
        "SD1.5\\sd1_lora_more_details.safetensors",
        0.1,
        "None",
        0.1,
        "masterpiece, best quality, highres",
        "(worst quality, low quality, normal quality:1.5)",
        734137590975266,
        "randomize",
        25,
        0.1,
        "control_v11f1e_sd15_tile.pth",
        "4x_NMKD-Siax_200k.pth",
        3008
      ],
      "color": "#051b34",
      "bgcolor": "#3d124d"
    },
    {
      "id": 6,
      "type": "SaveImage",
      "pos": [
        6050,
        22
      ],
      "size": [
        572,
        462
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 4
        },
        {
          "name": "filename_prefix",
          "type": "STRING",
          "widget": {
            "name": "filename_prefix"
          },
          "link": 6
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.71",
        "Node name for S&R": "SaveImage"
      },
      "widgets_values": [
        "ComfyUI"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 4,
      "type": "SaveImage",
      "pos": [
        4884,
        616
      ],
      "size": [
        396,
        440
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 3
        },
        {
          "name": "filename_prefix",
          "type": "STRING",
          "widget": {
            "name": "filename_prefix"
          },
          "link": 16
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.71",
        "Node name for S&R": "SaveImage"
      },
      "widgets_values": [
        "ComfyUI"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 15,
      "type": "Note",
      "pos": [
        3498,
        -506
      ],
      "size": [
        550,
        506
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "Important:\nTo use googles API you need an API key of a payed description of:\nhttps://aistudio.google.com/api-keys \nor https://cloud.google.com/\n\nFind the setup instructions in the Node-Help.\n\nThe Detailer And Upscaler works best with every SD1.5 model.\n\nYou need the Controlnet control_v11f1e_sd15_tile.pth\nGet it from:\nhttps://huggingface.co/lllyasviel/ControlNet-v1-1/blob/main/control_v11f1e_sd15_tile.pth\n\nPlace it in models/controlnet\n\nYou can use every upscale model like\n 4x_NMKD-Siax_200k.pth\nGet it from:https://openmodeldb.info/models/4x-NMKD-Siax-CX\n\nPlace it in models/upscale_models\n"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 19,
      "type": "Note",
      "pos": [
        5302,
        572
      ],
      "size": [
        396,
        220
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "choose you models, loras and settings.\nOutput Longest Side is for setting the final image size.\nBest working with denoise 0.3 but you can play with it. The bigger the denoise that different the output from the original."
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 21,
      "type": "Note",
      "pos": [
        4466,
        308
      ],
      "size": [
        396,
        132
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "Let the Google API refine your image prompt."
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 22,
      "type": "Note",
      "pos": [
        4884,
        418
      ],
      "size": [
        396,
        132
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "Choose ratio and size for your image."
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 23,
      "type": "Note",
      "pos": [
        4048,
        726
      ],
      "size": [
        396,
        132
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "Enter your promt and/or use wildcards."
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 24,
      "type": "Note",
      "pos": [
        4070,
        -682
      ],
      "size": [
        396,
        132
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "If you want you can use up to 5 reference images and use with Gemini Image.\n\nExample: turn Image1 into the style of Image2"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 5,
      "type": "StarSaveFolderString",
      "pos": [
        5720,
        22
      ],
      "size": [
        286,
        484
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "path",
          "type": "STRING",
          "links": [
            6,
            16
          ]
        },
        {
          "name": "dir_only",
          "type": "STRING",
          "links": null
        },
        {
          "name": "filename",
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui_starnodes",
        "ver": "1.7.2",
        "Node name for S&R": "StarSaveFolderString"
      },
      "widgets_values": [
        "None",
        true,
        "first",
        "",
        "",
        "Off",
        "Image",
        false,
        "_"
      ],
      "color": "#051b34",
      "bgcolor": "#3d124d"
    },
    {
      "id": 20,
      "type": "Note",
      "pos": [
        5720,
        572
      ],
      "size": [
        286,
        220
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "Set the folder where you want your images to be saved."
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 1,
      "type": "StarWildcardsAdvanced",
      "pos": [
        4048,
        44
      ],
      "size": [
        400,
        628
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            14
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui_starnodes",
        "ver": "1.7.2",
        "Node name for S&R": "StarWildcardsAdvanced"
      },
      "widgets_values": [
        590913707964484,
        "randomize",
        "create hyperreal octane render of a purple fluffy otter holding a golden star and a cute smiling chimera hybrid animal mix of banana, ",
        "cuteanimal",
        "__animals__ and ",
        "cuteanimal",
        "Add bold title text \"Gemini API (Nano Banana)\" and Bold text at the bottom \"STARNODES\"",
        "None",
        "the ratio is 1:1. ",
        "None",
        "",
        "None",
        "",
        "None",
        "",
        "None"
      ],
      "color": "#051b34",
      "bgcolor": "#3d124d"
    },
    {
      "id": 18,
      "type": "StarGeminiRefiner",
      "pos": [
        4466,
        22
      ],
      "size": [
        396,
        242
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "text_input",
          "type": "STRING",
          "widget": {
            "name": "text_input"
          },
          "link": 14
        }
      ],
      "outputs": [
        {
          "name": "refined_prompt",
          "type": "STRING",
          "links": [
            17
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui_starnodes",
        "ver": "1.7.2",
        "Node name for S&R": "StarGeminiRefiner"
      },
      "widgets_values": [
        "",
        "You are an expert image prompt engineer. Your goal is to refine the user's input text into a detailed, high-quality image generation prompt optimized for the google gemini 3 Pro model (nano banana).\nKeep references e.g. Image1. Focus on descriptive details, lighting, composition, and style. Output ONLY the refined prompt, no explanations.",
        "gemini-2.0-flash-thinking-exp-1219"
      ],
      "color": "#051b34",
      "bgcolor": "#3d124d"
    },
    {
      "id": 7,
      "type": "ShowText|pysssss",
      "pos": [
        4466,
        528
      ],
      "size": [
        396,
        528
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 17
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "shape": 6,
          "type": "STRING",
          "links": [
            18
          ]
        }
      ],
      "title": "Preview Prompt",
      "properties": {
        "cnr_id": "comfyui-custom-scripts",
        "ver": "1.2.5",
        "Node name for S&R": "ShowText|pysssss"
      },
      "widgets_values": [
        "create hyperreal octane render of a purple fluffy otter holding a golden star and a cute smiling chimera hybrid animal mix of banana,  Puppy Flamingo and  Frog tadpole Add bold title text \"Gemini API (Nano Banana)\" and Bold text at the bottom \"STARNODES\" the ratio is 1:1. "
      ],
      "color": "#232",
      "bgcolor": "#353"
    }
  ],
  "links": [
    [
      2,
      2,
      0,
      3,
      0,
      "IMAGE"
    ],
    [
      3,
      2,
      0,
      4,
      0,
      "IMAGE"
    ],
    [
      4,
      3,
      0,
      6,
      0,
      "IMAGE"
    ],
    [
      6,
      5,
      0,
      6,
      1,
      "STRING"
    ],
    [
      9,
      14,
      0,
      2,
      0,
      "IMAGE"
    ],
    [
      10,
      10,
      0,
      2,
      1,
      "IMAGE"
    ],
    [
      11,
      11,
      0,
      2,
      2,
      "IMAGE"
    ],
    [
      12,
      12,
      0,
      2,
      3,
      "IMAGE"
    ],
    [
      13,
      13,
      0,
      2,
      4,
      "IMAGE"
    ],
    [
      14,
      1,
      0,
      18,
      0,
      "STRING"
    ],
    [
      16,
      5,
      0,
      4,
      1,
      "STRING"
    ],
    [
      17,
      18,
      0,
      7,
      0,
      "STRING"
    ],
    [
      18,
      7,
      0,
      2,
      5,
      "STRING"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "Add up to 5 input images as reference",
      "bounding": [
        4070,
        -528,
        2002,
        462
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.6303940863129128,
      "offset": [
        -3356.667255541135,
        -151.5834864117027
      ]
    },
    "frontendVersion": "1.28.9"
  },
  "version": 0.4
}