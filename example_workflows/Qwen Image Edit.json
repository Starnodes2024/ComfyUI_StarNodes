{
  "id": "91f6bbe2-ed41-4fd6-bac7-71d5b5864ecb",
  "revision": 0,
  "last_node_id": 407,
  "last_link_id": 649,
  "nodes": [
    {
      "id": 106,
      "type": "LoadImage",
      "pos": [
        56.080078125,
        530
      ],
      "size": [
        274.080078125,
        314.0000305175781
      ],
      "flags": {},
      "order": 0,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            630
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.50",
        "Node name for S&R": "LoadImage",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "ue_properties": {
          "widget_ue_connectable": {
            "image": true,
            "upload": true
          }
        }
      },
      "widgets_values": [
        "image_qwen_image_edit_2509_input_image.png",
        "image"
      ]
    },
    {
      "id": 108,
      "type": "LoadImage",
      "pos": [
        352.16015625,
        530
      ],
      "size": [
        274.080078125,
        314.0000305175781
      ],
      "flags": {},
      "order": 1,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            631
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.50",
        "Node name for S&R": "LoadImage",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "ue_properties": {
          "widget_ue_connectable": {
            "image": true,
            "upload": true
          }
        }
      },
      "widgets_values": [
        "image_qwen_image_edit_2509_input_image.png",
        "image"
      ]
    },
    {
      "id": 390,
      "type": "QwenImageStartSettings",
      "pos": [
        -726,
        -110
      ],
      "size": [
        400,
        562
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "shape": 7,
          "type": "IMAGE",
          "link": 621
        },
        {
          "name": "model_override",
          "shape": 7,
          "type": "MODEL",
          "link": 644
        },
        {
          "name": "LoRA_Stack",
          "shape": 7,
          "type": "LORA_STACK",
          "link": 641
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "MODEL",
          "links": [
            642
          ]
        },
        {
          "name": "clip",
          "type": "CLIP",
          "links": [
            624
          ]
        },
        {
          "name": "vae",
          "type": "VAE",
          "links": [
            625,
            638
          ]
        },
        {
          "name": "latent",
          "type": "LATENT",
          "links": [
            639
          ]
        },
        {
          "name": "width",
          "type": "INT",
          "links": null
        },
        {
          "name": "height",
          "type": "INT",
          "links": null
        },
        {
          "name": "condition_pos",
          "type": "CONDITIONING",
          "links": null
        },
        {
          "name": "condition_neg",
          "type": "CONDITIONING",
          "links": null
        },
        {
          "name": "prompt_pos",
          "type": "STRING",
          "links": null
        },
        {
          "name": "prompt_neg",
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui_starnodes",
        "ver": "1.7.2",
        "Node name for S&R": "QwenImageStartSettings"
      },
      "widgets_values": [
        "",
        "",
        "Qwen-Image-Edit-2509_fp8_e4m3fn.safetensors",
        "qwen_image_vae.safetensors",
        "qwen_2.5_vl_7b_fp8_scaled.safetensors",
        "qwen_image",
        "cpu",
        "1:1 (1328x1328)",
        1328,
        1328,
        1,
        true
      ],
      "color": "#051b34",
      "bgcolor": "#3d124d"
    },
    {
      "id": 97,
      "type": "MarkdownNote",
      "pos": [
        616,
        -110
      ],
      "size": [
        396,
        264
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Note: KSampler settings",
      "properties": {},
      "widgets_values": [
        "You can test and find the best setting by yourself. The following table is for reference.\n| Parameters   | Qwen Team | Comfy Original | with 4steps LoRA |\n|--------|---------|------------|---------------------------|\n| Steps  | 50      | 20         | 4                         |\n| CFG    | 4.0     | 2.5        | 1.0                       |"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 66,
      "type": "ModelSamplingAuraFlow",
      "pos": [
        -242,
        132
      ],
      "size": [
        290,
        60
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 642
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            141
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.48",
        "Node name for S&R": "ModelSamplingAuraFlow",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        3
      ]
    },
    {
      "id": 75,
      "type": "CFGNorm",
      "pos": [
        -242,
        242
      ],
      "size": [
        290,
        60
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 141
        }
      ],
      "outputs": [
        {
          "name": "patched_model",
          "type": "MODEL",
          "links": [
            636
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.50",
        "Node name for S&R": "CFGNorm",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "ue_properties": {
          "widget_ue_connectable": {
            "strength": true
          }
        }
      },
      "widgets_values": [
        1
      ]
    },
    {
      "id": 394,
      "type": "StarSampler",
      "pos": [
        176,
        -88
      ],
      "size": [
        396,
        440
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 636
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 637
        },
        {
          "name": "latent",
          "type": "LATENT",
          "link": 639
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 638
        },
        {
          "name": "negative",
          "shape": 7,
          "type": "CONDITIONING",
          "link": null
        },
        {
          "name": "detail_schedule",
          "shape": 7,
          "type": "DETAIL_SCHEDULE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "MODEL",
          "links": null
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": null
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": null
        },
        {
          "name": "latent",
          "type": "LATENT",
          "links": null
        },
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            640
          ]
        },
        {
          "name": "vae",
          "type": "VAE",
          "links": null
        },
        {
          "name": "seed",
          "type": "INT",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui_starnodes",
        "ver": "1.7.2",
        "Node name for S&R": "StarSampler"
      },
      "widgets_values": [
        553802828159277,
        "randomize",
        6,
        1,
        "euler",
        "simple",
        1,
        true,
        1,
        0.5
      ],
      "color": "#051b34",
      "bgcolor": "#3d124d"
    },
    {
      "id": 392,
      "type": "StarQwenEditPlusConditioner",
      "pos": [
        -242,
        -110
      ],
      "size": [
        308,
        198
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 624
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": 625
        },
        {
          "name": "image1",
          "shape": 7,
          "type": "IMAGE",
          "link": 634
        },
        {
          "name": "image2",
          "shape": 7,
          "type": "IMAGE",
          "link": 630
        },
        {
          "name": "image3",
          "shape": 7,
          "type": "IMAGE",
          "link": 631
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            637
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui_starnodes",
        "ver": "1.7.2",
        "Node name for S&R": "StarQwenEditPlusConditioner"
      },
      "widgets_values": [
        "turn input image into a high detailed black and white pencil sketch with strong strokes. "
      ],
      "color": "#051b34",
      "bgcolor": "#3d124d"
    },
    {
      "id": 78,
      "type": "LoadImage",
      "pos": [
        -240,
        530
      ],
      "size": [
        274.080078125,
        314.0000305175781
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            621,
            634
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.50",
        "Node name for S&R": "LoadImage",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "ue_properties": {
          "widget_ue_connectable": {
            "image": true,
            "upload": true
          }
        }
      },
      "widgets_values": [
        "pasted/image (17).png",
        "image"
      ]
    },
    {
      "id": 403,
      "type": "StarSaveFolderString",
      "pos": [
        1078,
        -154
      ],
      "size": [
        242,
        290
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "path",
          "type": "STRING",
          "links": [
            649
          ]
        },
        {
          "name": "dir_only",
          "type": "STRING",
          "links": [
            648
          ]
        },
        {
          "name": "filename",
          "type": "STRING",
          "links": [
            647
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui_starnodes",
        "ver": "1.7.0",
        "Node name for S&R": "StarSaveFolderString",
        "aux_id": "Starnodes2024/ComfyUI_StarBetaNodes"
      },
      "widgets_values": [
        "None",
        true,
        "first",
        "QwenImage",
        "",
        "Off",
        "hhfh",
        false,
        "_"
      ],
      "color": "#051b34",
      "bgcolor": "#3d124d"
    },
    {
      "id": 401,
      "type": "Note",
      "pos": [
        1078,
        176
      ],
      "size": [
        242,
        132
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "Set how in your output folder your image should be saved and connect the output path to your save node(s)."
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 402,
      "type": "Note",
      "pos": [
        1342,
        176
      ],
      "size": [
        220,
        154
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "Activate the PSD saver if you also want to save an PSD file for photoshop. You can add layers and masks."
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 404,
      "type": "StarPSDSaver",
      "pos": [
        1342,
        -154
      ],
      "size": [
        229.49472045898438,
        142
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "layer1",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        },
        {
          "name": "mask1",
          "shape": 7,
          "type": "MASK",
          "link": null
        },
        {
          "name": "filename_prefix",
          "type": "STRING",
          "widget": {
            "name": "filename_prefix"
          },
          "link": 647
        },
        {
          "name": "output_dir",
          "type": "STRING",
          "widget": {
            "name": "output_dir"
          },
          "link": 648
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfyui_starnodes",
        "ver": "1.7.2",
        "Node name for S&R": "StarPSDSaver"
      },
      "widgets_values": [
        "multilayer",
        "PSD_Layers"
      ],
      "color": "#051b34",
      "bgcolor": "#3d124d"
    },
    {
      "id": 60,
      "type": "SaveImage",
      "pos": [
        1606,
        -176
      ],
      "size": [
        950,
        1040
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 640
        },
        {
          "name": "filename_prefix",
          "type": "STRING",
          "widget": {
            "name": "filename_prefix"
          },
          "link": 649
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.48",
        "Node name for S&R": "SaveImage",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "ComfyUI"
      ]
    },
    {
      "id": 407,
      "type": "Note",
      "pos": [
        -462,
        -418
      ],
      "size": [
        330,
        198
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "You can activate the Nunchaku node if you want to use Qwen Image Edit Nunchaku model.\nImportant: Nunchaku doesnt work with the Star 3 LoRAs node!\n"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 397,
      "type": "NunchakuQwenImageDiTLoader",
      "pos": [
        -1034,
        -396
      ],
      "size": [
        550,
        154
      ],
      "flags": {},
      "order": 8,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            644
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-nunchaku",
        "ver": "1.0.2",
        "Node name for S&R": "NunchakuQwenImageDiTLoader"
      },
      "widgets_values": [
        "nunchaku\\svdq-int4_r128-qwen-image-edit-2509-lightning-4steps-251115.safetensors",
        "auto",
        1,
        "disable"
      ]
    },
    {
      "id": 396,
      "type": "Star3LoRAs",
      "pos": [
        -1034,
        -110
      ],
      "size": [
        286,
        290
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "shape": 7,
          "type": "MODEL",
          "link": null
        },
        {
          "name": "clip",
          "shape": 7,
          "type": "CLIP",
          "link": null
        },
        {
          "name": "LoRA_Stack",
          "shape": 7,
          "type": "LORA_STACK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "MODEL",
          "links": null
        },
        {
          "name": "clip",
          "type": "CLIP",
          "links": null
        },
        {
          "name": "lora_stack",
          "type": "LORA_STACK",
          "links": [
            641
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui_starnodes",
        "ver": "1.7.2",
        "Node name for S&R": "Star3LoRAs"
      },
      "widgets_values": [
        "Qwen\\Qwen-Image-Edit-Lightning-4steps-V1.0.safetensors",
        1,
        1,
        "None",
        1,
        1,
        "None",
        1,
        1
      ],
      "color": "#051b34",
      "bgcolor": "#3d124d"
    },
    {
      "id": 399,
      "type": "Note",
      "pos": [
        -726,
        506
      ],
      "size": [
        396,
        110
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "Choose your models and latent size.\nIf you connect an image you can choose nearest size setting to get a matching latent of the same ratio."
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 400,
      "type": "Note",
      "pos": [
        616,
        198
      ],
      "size": [
        374,
        132
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "Choose your sampler settings.\nWithout lightning lora you should set steps to 25 or higher."
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 99,
      "type": "MarkdownNote",
      "pos": [
        -1628,
        -110
      ],
      "size": [
        550,
        550
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Model links",
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "\n## Model links\n\nYou can find all the models on [Comfy-Org/Qwen-Image_ComfyUI](https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/tree/main) and  [Comfy-Org/Qwen-Image-Edit_ComfyUI](https://huggingface.co/Comfy-Org/Qwen-Image-Edit_ComfyUI) \n\n- [Nunchaku Nodes and Models](https://github.com/nunchaku-tech/ComfyUI-nunchaku)\n\n**Diffusion model**\n\n- [qwen_image_edit_2509_fp8_e4m3fn.safetensors](https://huggingface.co/Comfy-Org/Qwen-Image-Edit_ComfyUI/resolve/main/split_files/diffusion_models/qwen_image_edit_2509_fp8_e4m3fn.safetensors)\n\n**LoRA**\n\n- [Qwen-Image-Edit-2509-Lightning-4steps-V1.0-bf16.safetensors](https://huggingface.co/lightx2v/Qwen-Image-Lightning/resolve/main/Qwen-Image-Edit-2509/Qwen-Image-Edit-2509-Lightning-4steps-V1.0-bf16.safetensors)\n\n**Text encoder**\n\n- [qwen_2.5_vl_7b_fp8_scaled.safetensors](https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/text_encoders/qwen_2.5_vl_7b_fp8_scaled.safetensors)\n\n**VAE**\n\n- [qwen_image_vae.safetensors](https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/vae/qwen_image_vae.safetensors)\n\nModel Storage Location\n\n```\nðŸ“‚ ComfyUI/\nâ”œâ”€â”€ ðŸ“‚ models/\nâ”‚   â”œâ”€â”€ ðŸ“‚ diffusion_models/\nâ”‚   â”‚   â””â”€â”€ qwen_image_edit_2509_fp8_e4m3fn.safetensors\nâ”‚   â”œâ”€â”€ ðŸ“‚ loras/\nâ”‚   â”‚   â””â”€â”€ Qwen-Image-Lightning-4steps-V1.0.safetensors\nâ”‚   â”œâ”€â”€ ðŸ“‚ vae/\nâ”‚   â”‚   â””â”€â”€ qwen_image_vae.safetensors\nâ”‚   â””â”€â”€ ðŸ“‚ text_encoders/\nâ”‚       â””â”€â”€ qwen_2.5_vl_7b_fp8_scaled.safetensors\n```\n\n## Report issue\nIf you have any problems running this workflow, please report template-related issues via this link: [report the template issue here](https://github.com/Comfy-Org/workflow_templates/issues)"
      ],
      "color": "#432",
      "bgcolor": "#653"
    }
  ],
  "links": [
    [
      141,
      66,
      0,
      75,
      0,
      "MODEL"
    ],
    [
      621,
      78,
      0,
      390,
      0,
      "IMAGE"
    ],
    [
      624,
      390,
      1,
      392,
      0,
      "CLIP"
    ],
    [
      625,
      390,
      2,
      392,
      1,
      "VAE"
    ],
    [
      630,
      106,
      0,
      392,
      3,
      "IMAGE"
    ],
    [
      631,
      108,
      0,
      392,
      4,
      "IMAGE"
    ],
    [
      634,
      78,
      0,
      392,
      2,
      "IMAGE"
    ],
    [
      636,
      75,
      0,
      394,
      0,
      "MODEL"
    ],
    [
      637,
      392,
      0,
      394,
      1,
      "CONDITIONING"
    ],
    [
      638,
      390,
      2,
      394,
      3,
      "VAE"
    ],
    [
      639,
      390,
      3,
      394,
      2,
      "LATENT"
    ],
    [
      640,
      394,
      4,
      60,
      0,
      "IMAGE"
    ],
    [
      641,
      396,
      2,
      390,
      2,
      "LORA_STACK"
    ],
    [
      642,
      390,
      0,
      66,
      0,
      "MODEL"
    ],
    [
      644,
      397,
      0,
      390,
      1,
      "MODEL"
    ],
    [
      647,
      403,
      2,
      404,
      2,
      "STRING"
    ],
    [
      648,
      403,
      1,
      404,
      3,
      "STRING"
    ],
    [
      649,
      403,
      0,
      60,
      1,
      "STRING"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "Step1 - Load models",
      "bounding": [
        -264,
        -176,
        370,
        570
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 2,
      "title": "Step 2 - Upload image for editing",
      "bounding": [
        -264,
        440,
        970,
        550
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "Step 4 - Prompt",
      "bounding": [
        132,
        -176,
        902,
        572
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.4867131624563612,
      "offset": [
        1680.043110708564,
        506.618199902684
      ]
    },
    "frontendVersion": "1.27.10",
    "ue_links": [],
    "links_added_by_ue": [],
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}